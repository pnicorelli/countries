<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="./d3.min.js"></script>
    <script src="./topojson.min.js"></script>
    <script src="./datamaps.world.min.js"></script>
    <script type="">
    function buildBox(x){
        var html = '<div class="box media">';

        html = html + '<div class="media-left">';
        html = html + 'SVG flag <img src="' + x.images.svg_square+'"><hr>SVG sq flag<img src="' + x.images.svg+'"></div>';
        html = html + '<div class="media-right"><h3>'+x['name']+ '</h3>';
        html = html + '<p><b>alpha2:</b> '+ x['alpha2']+ '</p>';
        html = html + '<p><b>alpha3:</b> '+ x['alpha3']+ '</p>';
        html = html + '<p><b>Currency:</b> '+x['currency']+ '</p>';
        html = html + '<p><b>Phone Prefix:</b> '+x['prefix']+ '</p></div>';
        html = html + '</div>';
        return html;
    }

    function getCountryByCode(code) {
      return data.filter(
          function(data){return data.code == code}
      );
    }

    $(document).ready( function(){
        $.getJSON('./build/countries.json', function(countries){
            var map = new Datamap({
                element: document.getElementById('container'),
                geographyConfig: {
                    popupTemplate: function(geo) {
                        for( i=0; i<= countries.length; i++){
                            if( countries[i].alpha3 === geo.id){
                                return buildBox( countries[i] );
                            }
                        }

                    }
                }
            });
        });
    });
    </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <style>
    html, body{background: #eee; }
    pre { background: #333; color: #fff; margin:10px;}
    pre span{color: orange;}
    .box{opacity:1 !important; background: #333; padding: 5px; border: 2px solid #ddd; font-size: .8em; color: #fff;}
    .box img{width:50px; float:left; display: block; margin-right: 4px;}
    .box hr{opacity: 0;}
    </style>

</head>

<body>
    <a href="https://github.com/pnicorelli/countries"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <div class="page-header">
        <h1>Countries and standards</h1>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                Countries standards like ISO3166, flags (png, svg in 4x3 and 1x1), phone prefix and currency codes packed in a JSON... something like:
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 col-md-offset-1">

<pre>
    [
    ...
    {
        <span>"name"</span>: "Tuvalu",
        <span>"prefix"</span>: "688",
        <span>"currency"</span>: "Australian Dollar",
        <span>"alpha2"</span>: "TV",
        <span>"alpha3"</span>: "TUV",
        <span>"images"</span>: {
            <span>"svg_square"</span>: "./build/flags/svg/1x1/tv.svg",
            <span>"svg"</span>: "./build/flags/svg/4x3/tv.svg",
            <span>"png_square"</span>: "./build/flags/png/1x1/tv.png",
            <span>"png"</span>: "./build/flags/png/4x3/tv.png"
        }
    },
    ...
    ]
</pre>

            </div>
        </div>


        <div class="row">
            <div class="col-md-6 col-md-offset-1">
                <ul class="list-group">
                    <li class="list-group-item">download <a href="./build/pack.tar.bz2" target="_blank">the current package</a> (~11MB of tar.bz2)</li>
                    <li class="list-group-item">read more on <a href="https://github.com/pnicorelli/countries">github repo</a></li>
                </ul>
            </div>
        </div>


        <div class="row">
            <div class="col-md-6 col-md-offset-1">
                <h3>Example: Countries badge with d3js & topojson</h3>

            </div>
        </div>
        <div class="row">
            <div class="col-md-10 col-md-offset-2">
                <div id="container" style="position:relative; width: 800px; height: 500px;">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12" id="container">

            </div>
        </div>
    </div>


<body>
</html>
